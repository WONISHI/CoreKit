# @purekit/watermark 调用方式指南
`Watermark.apply()` 方法支持多种参数形式，旨在满足从简单文本到复杂图文排版的各类需求。

## 1.基础用法 (Basic Usage)
最简单的调用方式，适用于快速添加纯文本水印。

### 纯字符串
直接传入字符串，默认使用全局配置样式。

```js
    import Watermark from '@purekit/watermark';
    // 简单的一行文本
    Watermark.apply('内部绝密资料');
```

## 字符串数组 (多行文本)
传入字符串数组，会自动转换为垂直排列的多行水印。

```js
// 自动换行，垂直居中对齐
Watermark.apply(['内部资料', '严禁外传', '2023-10-20']);
```

## 2. 进阶配置 (Advanced Configuration)
使用对象形式传入，可以控制字体、颜色、旋转角度等外观样式。

```js
  Watermark.apply({
  content: '张三 10086',
  width: 200,          // 画布/瓦片宽度
  height: 200,         // 画布/瓦片高度
  rotate: -25,         // 旋转角度
  fontSize: 16,        // 字体大小
  fontColor: 'rgba(0, 0, 0, 0.15)', // 字体颜色
  zIndex: 9999,        // 层级
  fontFamily: 'Arial', // 字体
  monitor: true        // 是否开启防篡改监控 (默认 true)
});
```

## 3. 复杂布局 (Complex Layouts) 
🚀这是本库的核心特性。通过定义 Group（组）结构，你可以实现类似 Flexbox 的布局（水平或垂直排列、图文混排、嵌套分组）。

### 数据结构定义
`content`属性接受一个根节点对象，支持以下类型：
- text: 文本节点
- image: 图片节点
- group: 分组节点 (容器)

### 示例：图文混排 + 嵌套布局
以下配置实现了：左侧红色文字，右侧上方图片、下方两行灰色文字的复杂结构。
```js
  Watermark.apply({
  layout: 'repeat', // 全屏平铺
  gap: [20, 20],    // 水印瓦片之间的间距
  content: {
    type: 'group',
    layout: 'row',       // 根容器：水平排列 (Row)
    gap: 15,             // 左侧文字和右侧组的间距
    items: [
      // --- 左侧：红色文字 ---
      {
        type: 'text',
        text: '绝密档案',
        fontSize: 18,
        fontColor: 'red',
        fontWeight: 'bold'
      },
      // --- 右侧：垂直分组 (图片 + 文字) ---
      {
        type: 'group',
        layout: 'column', // 内部容器：垂直排列 (Column)
        gap: 5,           // 图片和下方文字的间距
        items: [
          // 图片
          {
            type: 'image',
            image: 'https://example.com/logo.png', // 支持 URL 或 Base64
            width: 30,
            height: 30
          },
          // 多行文字 (支持 \n 或 <br>)
          {
            type: 'text',
            text: '严禁外传\nUID: 9527', // \n 会自动触发内部拆分
            fontSize: 12,
            fontColor: '#999'
          }
        ]
      }
    ]
  }
});
```

## 4. 特殊字符与换行
在 `text`类型的节点中，支持使用换行符自动分行。分行后的子元素会自动继承父级的 `gap` 属性。
- 支持 \n
- 支持 HTML 标签 `<br>`, `<br/>`, `<br />`

```js
Watermark.apply({
  content: {
    type: 'group',
    layout: 'column',
    gap: 10, // 定义行间距
    items: [
      {
        type: 'text',
        // 以下内容会被拆分为三行，每行间隔 10px
        text: '第一行内容<br />第二行内容\n第三行内容',
        fontSize: 14
      }
    ]
  }
});
```
